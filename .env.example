# GridTokenX Platform - Environment Configuration Template
# Copy this file to .env and fill in your values

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
# IMPORTANT: Always use SSL in production
# Development: postgresql://user:pass@localhost:5432/db
# Production:  postgresql://user:pass@host:5432/db?sslmode=require
DATABASE_URL=postgres://gridtokenx_user:your_secure_password@postgres:5432/gridtokenx_db?sslmode=require
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5

# ============================================================
# REDIS CONFIGURATION
# ============================================================
# IMPORTANT: Always use authentication in production
# Development: redis://:redis_dev_password@localhost:6379
# Production:  redis://:your_secure_redis_password@redis:6379
# SSL/TLS:    rediss://:your_secure_redis_password@redis:6379
REDIS_URL=redis://:your_redis_password@redis:6379
REDIS_MAX_CONNECTIONS=10

# Redis password (for separate configuration if needed)
# REDIS_PASSWORD=your_redis_password

# Redis configuration options
# REDIS_DB=0  # Database number (0-15)
# REDIS_CONNECTION_TIMEOUT=5  # Connection timeout in seconds
# REDIS_COMMAND_TIMEOUT=3    # Command timeout in seconds

# ============================================================
# INFLUXDB CONFIGURATION
# ============================================================
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_TOKEN=your_influxdb_token_min_32_characters
INFLUXDB_ORG=gridtokenx
INFLUXDB_BUCKET=metrics

# ============================================================
# JWT & AUTHENTICATION
# ============================================================
# CRITICAL: Generate secure secret for production
# Generate: openssl rand -base64 64 (minimum 64 chars for HS512)
# NEVER use default values or weak secrets in production
JWT_SECRET=your_very_long_random_secret_key_minimum_64_characters_for_production_use
JWT_EXPIRATION=86400  # 24 hours in seconds

# ============================================================
# SERVER CONFIGURATION
# ============================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
RUST_LOG=info  # Options: trace, debug, info, warn, error
ENVIRONMENT=production  # Options: development, staging, production

# ============================================================
# CORS CONFIGURATION
# ============================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_EXPOSE_HEADERS=*
CORS_MAX_AGE=3600

# ============================================================
# RATE LIMITING
# ============================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_AUTH_REQUESTS=10
RATE_LIMIT_AUTH_WINDOW=60
RATE_LIMIT_TRADING_REQUESTS=20
RATE_LIMIT_TRADING_WINDOW=60

# ============================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@gridtokenx.com

# ============================================================
# BLOCKCHAIN CONFIGURATION
# ============================================================
# Solana RPC endpoints
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com

# For mainnet (production):
# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
# SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# For local validator:
# SOLANA_RPC_URL=http://localhost:8899
# SOLANA_WS_URL=ws://localhost:8900

# ============================================================
# MONITORING & OBSERVABILITY
# ============================================================
ENABLE_METRICS=true
ENABLE_TRACING=true

# Optional: Datadog integration
# DATADOG_API_KEY=your_datadog_api_key
# DATADOG_APP_KEY=your_datadog_app_key

# Optional: Sentry integration
# SENTRY_DSN=your_sentry_dsn

# ============================================================
# FEATURE FLAGS
# ============================================================
TEST_MODE=false  # Set to true for development only
ENABLE_EMAIL_VERIFICATION=true
ENABLE_WEBSOCKET=true
ENABLE_BLOCKCHAIN_INTEGRATION=true

# ============================================================
# SECURITY SETTINGS
# ============================================================
SECURE_COOKIES=true  # Set to false for local development
SESSION_TIMEOUT=3600  # 1 hour in seconds
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900  # 15 minutes in seconds

# Password requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# ============================================================
# CACHE CONFIGURATION
# ============================================================
CACHE_TTL_DEFAULT=3600  # 1 hour
CACHE_TTL_USER_SESSION=86400  # 24 hours
CACHE_TTL_MARKET_DATA=300  # 5 minutes
CACHE_TTL_ANALYTICS=1800  # 30 minutes

# ============================================================
# FILE STORAGE (Optional - for profile pictures, documents)
# ============================================================
# STORAGE_TYPE=local  # Options: local, s3, gcs
# AWS_REGION=us-east-1
# AWS_BUCKET=gridtokenx-storage
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# ============================================================
# NOTIFICATION SETTINGS
# ============================================================
# Enable/disable notification channels
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false

# Twilio (for SMS notifications)
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ============================================================
# DEVELOPMENT SETTINGS
# ============================================================
# Only use in development!
# DEV_AUTO_SEED_DATABASE=false
# DEV_BYPASS_EMAIL_VERIFICATION=false
# DEV_MOCK_BLOCKCHAIN=false
